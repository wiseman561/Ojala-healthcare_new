(this["webpackJsonpojala-web"]=this["webpackJsonpojala-web"]||[]).push([[0],{1139:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(644),c=a(71),r=a(130),l=a(564),o=a(1221),d=a(49),j=a(18),b=a(1261),x=a(174),h=a(1216),m=a(451),O=a(637),p=a(1217),u=a(1218),g=a(1256),y=a(1262),v=a(452),f=a(1257),C=a(1258),w=a(1207),N=a(1208),D=a(1209),P=a(1210),S=a(1211),I=a(1212),k=a(1213),A=a(1214),M=a(1215),B=a(1219),T=a(1220),W=a(1222),L=a(1249),R=a(645),F=a(1);L.a.defaults.baseURL="http://apigateway";const z=Object(n.createContext)(),E=()=>Object(n.useContext)(z),q=e=>{let{children:t}=e;const[a,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(localStorage.getItem("token")),[r,l]=Object(n.useState)(!0);Object(n.useEffect)(()=>{(async()=>{if(s)try{const t=Object(R.a)(s),a=Date.now()/1e3;if(t.exp<a)o();else{L.a.defaults.headers.common.Authorization="Bearer ".concat(s);try{const e=await L.a.get("/api/auth/profile");i(e.data)}catch(e){console.warn("Profile endpoint not available or failed:",e)}}}catch(e){console.error("Failed to decode token:",e),o()}l(!1)})()},[s]);const o=()=>{localStorage.removeItem("token"),c(null),i(null),delete L.a.defaults.headers.common.Authorization},d={currentUser:a,isAuthenticated:!!a,isLoading:r,login:async function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const{data:n}=await L.a.post("/api/auth/login",{email:e,password:t,rememberMe:a}),{token:s,user:r}=n;return localStorage.setItem("token",s),c(s),L.a.defaults.headers.common.Authorization="Bearer ".concat(s),i(r),{success:!0}}catch(r){var n,s;return console.error("Login failed:",r),{success:!1,message:(null===(n=r.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Login failed. Please check your credentials."}}},register:async e=>{try{const{data:t}=await L.a.post("/api/auth/register",e);return{success:!0,data:t}}catch(n){var t,a;return console.error("Registration failed:",n),{success:!1,message:(null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Registration failed. Please try again."}}},logout:o};return Object(F.jsx)(z.Provider,{value:d,children:t})};var V=()=>{var e,t,a,n;const[s,c]=i.a.useState(!1),{currentUser:r,logout:l}=E(),d=Object(j.r)(),L=()=>{c(!s)},R=e=>{d(e),c(!1)},z=[{text:"Dashboard",icon:Object(F.jsx)(w.a,{}),path:"/"},{text:"Patients",icon:Object(F.jsx)(N.a,{}),path:"/patients"},{text:"Appointments",icon:Object(F.jsx)(D.a,{}),path:"/appointments"},{text:"Medical Records",icon:Object(F.jsx)(P.a,{}),path:"/medical-records"},{text:"Healthcare Plans",icon:Object(F.jsx)(S.a,{}),path:"/healthcare-plans"}],q=[{text:"RN Dashboard",icon:Object(F.jsx)(I.a,{}),external:!0,url:"http://rn-dashboard"},{text:"Employer Dashboard",icon:Object(F.jsx)(k.a,{}),external:!0,url:"http://employer-dashboard"},{text:"Patient App",icon:Object(F.jsx)(A.a,{}),external:!0,url:"http://patient-app"},{text:"AI Insights",icon:Object(F.jsx)(M.a,{}),path:"/ai-insights"}],V=Object(F.jsxs)("div",{children:[Object(F.jsx)(b.a,{sx:{justifyContent:"center"},children:Object(F.jsx)(x.a,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:"bold",color:"primary.main"},children:"Ojala Healthcare"})}),Object(F.jsx)(h.a,{}),Object(F.jsx)(m.a,{children:z.map(e=>Object(F.jsxs)(O.a,{button:!0,onClick:()=>R(e.path),children:[Object(F.jsx)(p.a,{children:e.icon}),Object(F.jsx)(u.a,{primary:e.text})]},e.text))}),Object(F.jsx)(h.a,{}),Object(F.jsx)(m.a,{subheader:Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",sx:{pl:2,pt:1},children:"Dashboards"}),children:q.map(e=>Object(F.jsxs)(O.a,{button:!0,onClick:()=>{return e.external?(t=e.url,window.open(t,"_blank"),void c(!1)):R(e.path);var t},children:[Object(F.jsx)(p.a,{children:e.icon}),Object(F.jsx)(u.a,{primary:e.text})]},e.text))}),Object(F.jsx)(h.a,{}),Object(F.jsxs)(m.a,{children:[Object(F.jsxs)(O.a,{button:!0,onClick:()=>R("/profile"),children:[Object(F.jsx)(p.a,{children:Object(F.jsx)(B.a,{})}),Object(F.jsx)(u.a,{primary:"Profile"})]}),Object(F.jsxs)(O.a,{button:!0,onClick:()=>{l(),d("/login")},children:[Object(F.jsx)(p.a,{children:Object(F.jsx)(T.a,{})}),Object(F.jsx)(u.a,{primary:"Logout"})]})]})]});return Object(F.jsxs)(g.a,{sx:{display:"flex"},children:[Object(F.jsx)(o.a,{}),Object(F.jsx)(y.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")}},children:Object(F.jsxs)(b.a,{children:[Object(F.jsx)(v.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:L,sx:{mr:2,display:{sm:"none"}},children:Object(F.jsx)(W.a,{})}),Object(F.jsx)(x.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:(null===(e=z.find(e=>e.path===window.location.pathname))||void 0===e?void 0:e.text)||(null===(t=q.find(e=>e.path===window.location.pathname))||void 0===t?void 0:t.text)||"Dashboard"}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsxs)(x.a,{variant:"body2",sx:{mr:2},children:[null===r||void 0===r?void 0:r.firstName," ",null===r||void 0===r?void 0:r.lastName]}),Object(F.jsxs)(f.a,{sx:{bgcolor:"secondary.main"},children:[null===r||void 0===r||null===(a=r.firstName)||void 0===a?void 0:a[0],null===r||void 0===r||null===(n=r.lastName)||void 0===n?void 0:n[0]]})]})]})}),Object(F.jsxs)(g.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},children:[Object(F.jsx)(C.a,{variant:"temporary",open:s,onClose:L,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:V}),Object(F.jsx)(C.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:V})]}),Object(F.jsx)(g.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")},mt:"64px"},children:Object(F.jsx)(j.b,{})})]})},H=a(1254),Q=a(1259),U=a(320);var G=()=>Object(F.jsx)(g.a,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"primary.light",backgroundImage:"linear-gradient(315deg, #1976d2 0%, #42a5f5 74%)",py:4},children:Object(F.jsx)(H.a,{maxWidth:"md",children:Object(F.jsxs)(Q.a,{container:!0,spacing:4,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(F.jsxs)(g.a,{sx:{color:"white",mb:4,textAlign:{xs:"center",md:"left"}},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"center",md:"flex-start"},mb:2},children:[Object(F.jsx)(S.a,{sx:{fontSize:40,mr:1}}),Object(F.jsx)(x.a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Ojala Healthcare"})]}),Object(F.jsx)(x.a,{variant:"h6",sx:{mb:2},children:"Transforming Healthcare Management"}),Object(F.jsx)(x.a,{variant:"body1",children:"A comprehensive platform for healthcare providers to manage patients, appointments, medical records, and healthcare plans efficiently."})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsx)(U.a,{elevation:3,sx:{p:4,borderRadius:2},children:Object(F.jsx)(j.b,{})})})]})})}),J=a(1263),K=a(1264),Y=a(1265),_=a(1250),X=a(1266),Z=a(638),$=a(1267),ee=a(1268),te=a(1269),ae=a(1270),ne=a(1271),ie=a(1272),se=a(642),ce=a(1229),re=a(1230),le=a(1231),oe=a(1232),de=a(1236),je=a(1237),be=a(1141);const xe=L.a.create({baseURL:"http://apigateway",headers:{"Content-Type":"application/json"}});xe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),xe.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const a=localStorage.getItem("refreshToken");if(!a)return window.location.href="/login",Promise.reject(e);const n=await L.a.post("/api/auth/refresh",{refreshToken:a});return n.data.success?(localStorage.setItem("token",n.data.token),localStorage.setItem("refreshToken",n.data.refreshToken),xe.defaults.headers.common.Authorization="Bearer ".concat(n.data.token),xe(t)):(window.location.href="/login",Promise.reject(e))}catch(a){return window.location.href="/login",Promise.reject(a)}}return Promise.reject(e)});const he={getAll:()=>xe.get("/api/patients"),getById:e=>xe.get("/api/patients/".concat(e)),create:e=>xe.post("/api/patients",e),update:(e,t)=>xe.put("/api/patients/".concat(e),t),delete:e=>xe.delete("/api/patients/".concat(e))},me={getAll:()=>xe.get("/api/appointments"),getById:e=>xe.get("/api/appointments/".concat(e)),create:e=>xe.post("/api/appointments",e),update:(e,t)=>xe.put("/api/appointments/".concat(e),t),delete:e=>xe.delete("/api/appointments/".concat(e))},Oe=()=>xe.get("/api/medical-records"),pe=e=>xe.get("/api/medical-records/patient/".concat(e)),ue=e=>xe.post("/api/medical-records",e),ge=()=>xe.get("/api/dashboard");var ye=a(1233),ve=a(1234),fe=a(1235),Ce=a(659),we=a(660),Ne=a(175),De=a(229),Pe=a(342),Se=a(1255),Ie=a(661),ke=a(331);var Ae=()=>{var e,t,a,i,s,c,r,l;const[o,b]=Object(n.useState)(0),h=Object(j.r)(),{data:m,isLoading:O}=Object(d.useQuery)("dashboardData",()=>ge().then(e=>e.data)),p=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return O?Object(F.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(F.jsx)(J.a,{})}):Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Healthcare Dashboard"}),Object(F.jsxs)(Q.a,{container:!0,spacing:3,sx:{mb:4},children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:3,children:Object(F.jsx)(K.a,{sx:{bgcolor:"primary.light",color:"primary.contrastText"},children:Object(F.jsx)(Y.a,{children:Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h5",component:"div",children:(null===m||void 0===m||null===(e=m.stats)||void 0===e?void 0:e.totalPatients)||0}),Object(F.jsx)(x.a,{variant:"body2",children:"Total Patients"})]}),Object(F.jsx)(ce.a,{fontSize:"large"})]})})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:3,children:Object(F.jsx)(K.a,{sx:{bgcolor:"success.light",color:"success.contrastText"},children:Object(F.jsx)(Y.a,{children:Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h5",component:"div",children:(null===m||void 0===m||null===(t=m.stats)||void 0===t?void 0:t.appointmentsToday)||0}),Object(F.jsx)(x.a,{variant:"body2",children:"Today's Appointments"})]}),Object(F.jsx)(re.a,{fontSize:"large"})]})})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:3,children:Object(F.jsx)(K.a,{sx:{bgcolor:"warning.light",color:"warning.contrastText"},children:Object(F.jsx)(Y.a,{children:Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h5",component:"div",children:(null===m||void 0===m||null===(a=m.stats)||void 0===a?void 0:a.pendingRecords)||0}),Object(F.jsx)(x.a,{variant:"body2",children:"Pending Records"})]}),Object(F.jsx)(le.a,{fontSize:"large"})]})})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:3,children:Object(F.jsx)(K.a,{sx:{bgcolor:"info.light",color:"info.contrastText"},children:Object(F.jsx)(Y.a,{children:Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h5",component:"div",children:(null===m||void 0===m||null===(i=m.stats)||void 0===i?void 0:i.activePlans)||0}),Object(F.jsx)(x.a,{variant:"body2",children:"Active Healthcare Plans"})]}),Object(F.jsx)(oe.a,{fontSize:"large"})]})})})})]}),Object(F.jsx)(g.a,{sx:{mb:3},children:Object(F.jsxs)(_.a,{value:o,onChange:(e,t)=>{b(t)},centered:!0,children:[Object(F.jsx)(X.a,{label:"Overview"}),Object(F.jsx)(X.a,{label:"Patients"}),Object(F.jsx)(X.a,{label:"Appointments"})]})}),Object(F.jsxs)(g.a,{children:[0===o&&Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Patients by Age Group"}),Object(F.jsx)(g.a,{sx:{height:300},children:Object(F.jsx)(ye.a,{width:"100%",height:"100%",children:Object(F.jsxs)(ve.a,{data:null===m||void 0===m||null===(s=m.patientsByAge)||void 0===s?void 0:s.labels.map((e,t)=>({ageGroup:e,count:m.patientsByAge.data[t]})),margin:{top:20,right:30,left:20,bottom:5},children:[Object(F.jsx)(fe.a,{strokeDasharray:"3 3"}),Object(F.jsx)(Ce.a,{dataKey:"ageGroup"}),Object(F.jsx)(we.a,{}),Object(F.jsx)(Ne.a,{}),Object(F.jsx)(De.a,{}),Object(F.jsx)(Pe.a,{dataKey:"count",name:"Patients",fill:"#8884d8"})]})})})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Appointments by Month"}),Object(F.jsx)(g.a,{sx:{height:300},children:Object(F.jsx)(ye.a,{width:"100%",height:"100%",children:Object(F.jsxs)(ve.a,{data:null===m||void 0===m||null===(c=m.appointmentsByMonth)||void 0===c?void 0:c.labels.map((e,t)=>({month:e,count:m.appointmentsByMonth.data[t]})),margin:{top:20,right:30,left:20,bottom:5},children:[Object(F.jsx)(fe.a,{strokeDasharray:"3 3"}),Object(F.jsx)(Ce.a,{dataKey:"month"}),Object(F.jsx)(we.a,{}),Object(F.jsx)(Ne.a,{}),Object(F.jsx)(De.a,{}),Object(F.jsx)(Pe.a,{dataKey:"count",name:"Appointments",fill:"#82ca9d"})]})})})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Medical Records by Type"}),Object(F.jsx)(g.a,{sx:{height:300},children:Object(F.jsx)(ye.a,{width:"100%",height:"100%",children:Object(F.jsxs)(Se.a,{children:[Object(F.jsx)(Ie.a,{data:null===m||void 0===m||null===(r=m.recordsByType)||void 0===r?void 0:r.labels.map((e,t)=>({name:e,value:m.recordsByType.data[t]})),cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:a}=e;return"".concat(t," ").concat((100*a).toFixed(0),"%")},children:null===m||void 0===m||null===(l=m.recordsByType)||void 0===l?void 0:l.labels.map((e,t)=>Object(F.jsx)(ke.a,{fill:p[t%p.length]},"cell-".concat(t)))}),Object(F.jsx)(Ne.a,{}),Object(F.jsx)(De.a,{})]})})})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Key Performance Indicators"}),Object(F.jsx)(g.a,{sx:{mt:2},children:Object(F.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(K.a,{variant:"outlined",children:Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Patient Satisfaction"}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"h4",component:"div",sx:{mr:1},children:"92%"}),Object(F.jsx)(de.a,{color:"success"})]}),Object(F.jsx)(x.a,{variant:"body2",color:"success.main",children:"+5% from last month"})]})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(K.a,{variant:"outlined",children:Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Appointment Completion"}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"h4",component:"div",sx:{mr:1},children:"87%"}),Object(F.jsx)(de.a,{color:"success"})]}),Object(F.jsx)(x.a,{variant:"body2",color:"success.main",children:"+3% from last month"})]})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(K.a,{variant:"outlined",children:Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Average Wait Time"}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"h4",component:"div",sx:{mr:1},children:"12m"}),Object(F.jsx)(de.a,{color:"error",sx:{transform:"rotate(180deg)"}})]}),Object(F.jsx)(x.a,{variant:"body2",color:"error.main",children:"-2m from last month"})]})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(K.a,{variant:"outlined",children:Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"New Patients"}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"h4",component:"div",sx:{mr:1},children:"24"}),Object(F.jsx)(de.a,{color:"success"})]}),Object(F.jsx)(x.a,{variant:"body2",color:"success.main",children:"+8 from last month"})]})})})]})})]})})]}),1===o&&Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Recent Patients"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",onClick:()=>h("/patients"),children:"View All Patients"})]}),Object(F.jsx)($.a,{children:Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{children:Object(F.jsxs)(ae.a,{children:[Object(F.jsx)(ne.a,{children:"Name"}),Object(F.jsx)(ne.a,{children:"Age"}),Object(F.jsx)(ne.a,{children:"Gender"}),Object(F.jsx)(ne.a,{children:"Contact"}),Object(F.jsx)(ne.a,{children:"Healthcare Plan"}),Object(F.jsx)(ne.a,{children:"Last Visit"}),Object(F.jsx)(ne.a,{children:"Actions"})]})}),Object(F.jsx)(ie.a,{children:[{id:"1",firstName:"John",lastName:"Doe",dateOfBirth:"1985-05-15",gender:"Male",email:"john.doe@example.com",phoneNumber:"(555) 123-4567",healthcarePlanName:"Premium Care",lastVisit:"2025-04-10"},{id:"2",firstName:"Jane",lastName:"Smith",dateOfBirth:"1990-08-22",gender:"Female",email:"jane.smith@example.com",phoneNumber:"(555) 987-6543",healthcarePlanName:"Standard Care",lastVisit:"2025-04-15"},{id:"3",firstName:"Robert",lastName:"Johnson",dateOfBirth:"1978-11-30",gender:"Male",email:"robert.johnson@example.com",phoneNumber:"(555) 456-7890",healthcarePlanName:"Basic Care",lastVisit:"2025-04-18"},{id:"4",firstName:"Emily",lastName:"Williams",dateOfBirth:"1995-03-12",gender:"Female",email:"emily.williams@example.com",phoneNumber:"(555) 234-5678",healthcarePlanName:"Premium Care",lastVisit:"2025-04-20"},{id:"5",firstName:"Michael",lastName:"Brown",dateOfBirth:"1982-07-08",gender:"Male",email:"michael.brown@example.com",phoneNumber:"(555) 876-5432",healthcarePlanName:"Standard Care",lastVisit:"2025-04-22"}].map(e=>Object(F.jsxs)(ae.a,{hover:!0,onClick:()=>h("/patients/".concat(e.id)),sx:{cursor:"pointer"},children:[Object(F.jsxs)(ne.a,{children:[e.firstName," ",e.lastName]}),Object(F.jsx)(ne.a,{children:(new Date).getFullYear()-new Date(e.dateOfBirth).getFullYear()}),Object(F.jsx)(ne.a,{children:e.gender}),Object(F.jsxs)(ne.a,{children:[e.email,Object(F.jsx)("br",{}),e.phoneNumber]}),Object(F.jsx)(ne.a,{children:Object(F.jsx)(se.a,{label:e.healthcarePlanName,color:"Premium Care"===e.healthcarePlanName?"primary":"Standard Care"===e.healthcarePlanName?"success":"default",size:"small"})}),Object(F.jsx)(ne.a,{children:Object(be.format)(new Date(e.lastVisit),"MMM d, yyyy")}),Object(F.jsx)(ne.a,{children:Object(F.jsx)(v.a,{size:"small",onClick:e=>{e.stopPropagation()},children:Object(F.jsx)(je.a,{})})})]},e.id))})]})})]}),2===o&&Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Today's Appointments"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",onClick:()=>h("/appointments"),children:"Manage Appointments"})]}),Object(F.jsx)($.a,{children:Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{children:Object(F.jsxs)(ae.a,{children:[Object(F.jsx)(ne.a,{children:"Time"}),Object(F.jsx)(ne.a,{children:"Patient"}),Object(F.jsx)(ne.a,{children:"Type"}),Object(F.jsx)(ne.a,{children:"Status"}),Object(F.jsx)(ne.a,{children:"Provider"}),Object(F.jsx)(ne.a,{children:"Actions"})]})}),Object(F.jsx)(ie.a,{children:[{id:"1",patientName:"John Doe",startTime:"09:00",endTime:"09:30",type:"Check-up",status:"Scheduled",providerName:"Dr. Smith"},{id:"2",patientName:"Jane Smith",startTime:"10:00",endTime:"10:30",type:"Follow-up",status:"Completed",providerName:"Dr. Johnson"},{id:"3",patientName:"Robert Johnson",startTime:"11:00",endTime:"11:30",type:"Consultation",status:"Scheduled",providerName:"Dr. Smith"},{id:"4",patientName:"Emily Williams",startTime:"13:00",endTime:"13:30",type:"Vaccination",status:"Scheduled",providerName:"Dr. Brown"},{id:"5",patientName:"Michael Brown",startTime:"14:00",endTime:"14:30",type:"Lab Work",status:"Cancelled",providerName:"Dr. Johnson"}].map(e=>Object(F.jsxs)(ae.a,{hover:!0,onClick:()=>h("/appointments/".concat(e.id)),sx:{cursor:"pointer"},children:[Object(F.jsxs)(ne.a,{children:[e.startTime," - ",e.endTime]}),Object(F.jsx)(ne.a,{children:e.patientName}),Object(F.jsx)(ne.a,{children:e.type}),Object(F.jsx)(ne.a,{children:Object(F.jsx)(se.a,{label:e.status,color:"Scheduled"===e.status?"primary":"Completed"===e.status?"success":"Cancelled"===e.status?"error":"default",size:"small"})}),Object(F.jsx)(ne.a,{children:e.providerName}),Object(F.jsx)(ne.a,{children:Object(F.jsx)(v.a,{size:"small",onClick:e=>{e.stopPropagation()},children:Object(F.jsx)(je.a,{})})})]},e.id))})]})})]})]})]})},Me=a(10),Be=a(556),Te=a(558),We=a(1253),Le=a(560),Re=a(1243),Fe=a(561),ze=a(562),Ee=a(1238),qe=a(1239),Ve=a(1240),He=a(1241),Qe=a(1242);var Ue=()=>{const[e,t]=Object(n.useState)(0),[a,i]=Object(n.useState)(10),[s,c]=Object(n.useState)(""),[r,l]=Object(n.useState)(!1),[o,b]=Object(n.useState)(null),[h,m]=Object(n.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",dateOfBirth:"",gender:"",address:"",emergencyContactName:"",emergencyContactPhone:""}),O=Object(j.r)(),p=Object(d.useQueryClient)(),{data:u,isLoading:y}=Object(d.useQuery)("patients",async()=>(await L.a.get("/api/patients")).data),f=Object(d.useMutation)(e=>L.a.post("/api/patients",e),{onSuccess:()=>{p.invalidateQueries("patients"),P()}}),C=Object(d.useMutation)(e=>L.a.put("/api/patients/".concat(e.id),e),{onSuccess:()=>{p.invalidateQueries("patients"),P()}}),w=Object(d.useMutation)(e=>L.a.delete("/api/patients/".concat(e)),{onSuccess:()=>{p.invalidateQueries("patients")}}),N=Array.from({length:50},(e,t)=>({id:"p-".concat(t+1),firstName:"First".concat(t+1),lastName:"Last".concat(t+1),email:"patient".concat(t+1,"@example.com"),phoneNumber:"(555) 123-".concat(4e3+t),dateOfBirth:new Date(1970+Math.floor(t/2),t%12,t%28+1).toISOString().split("T")[0],gender:t%2===0?"Male":"Female",address:"".concat(1e3+t," Main St, City, State"),emergencyContactName:"Emergency Contact ".concat(t+1),emergencyContactPhone:"(555) 987-".concat(3e3+t)})),D=(u||N).filter(e=>e.firstName.toLowerCase().includes(s.toLowerCase())||e.lastName.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.phoneNumber.includes(s)),P=()=>{l(!1)},S=e=>{const{name:t,value:a}=e.target;m(e=>Object(Me.a)(Object(Me.a)({},e),{},{[t]:a}))},I=e=>{const t=new Date,a=new Date(e);let n=t.getFullYear()-a.getFullYear();const i=t.getMonth()-a.getMonth();return(i<0||0===i&&t.getDate()<a.getDate())&&n--,n};return y?Object(F.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(F.jsx)(J.a,{})}):Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h4",component:"h1",children:"Patients"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",startIcon:Object(F.jsx)(Ee.a,{}),onClick:()=>{b(null),m({firstName:"",lastName:"",email:"",phoneNumber:"",dateOfBirth:"",gender:"",address:"",emergencyContactName:"",emergencyContactPhone:""}),l(!0)},children:"Add Patient"})]}),Object(F.jsx)(U.a,{sx:{mb:3,p:2},children:Object(F.jsx)(Be.a,{fullWidth:!0,variant:"outlined",placeholder:"Search patients by name, email, or phone",value:s,onChange:e=>c(e.target.value),InputProps:{startAdornment:Object(F.jsx)(Te.a,{position:"start",children:Object(F.jsx)(qe.a,{})})}})}),Object(F.jsxs)($.a,{component:U.a,children:[Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{children:Object(F.jsxs)(ae.a,{children:[Object(F.jsx)(ne.a,{children:"Name"}),Object(F.jsx)(ne.a,{children:"Age"}),Object(F.jsx)(ne.a,{children:"Gender"}),Object(F.jsx)(ne.a,{children:"Email"}),Object(F.jsx)(ne.a,{children:"Phone"}),Object(F.jsx)(ne.a,{align:"right",children:"Actions"})]})}),Object(F.jsx)(ie.a,{children:D.slice(e*a,e*a+a).map(e=>Object(F.jsxs)(ae.a,{children:[Object(F.jsxs)(ne.a,{children:[e.firstName," ",e.lastName]}),Object(F.jsx)(ne.a,{children:I(e.dateOfBirth)}),Object(F.jsx)(ne.a,{children:e.gender}),Object(F.jsx)(ne.a,{children:e.email}),Object(F.jsx)(ne.a,{children:e.phoneNumber}),Object(F.jsxs)(ne.a,{align:"right",children:[Object(F.jsx)(v.a,{color:"primary",onClick:()=>{return t=e.id,void O("/patients/".concat(t));var t},title:"View details",children:Object(F.jsx)(Ve.a,{})}),Object(F.jsx)(v.a,{color:"secondary",onClick:()=>(e=>{b(e),m({id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber,dateOfBirth:e.dateOfBirth,gender:e.gender,address:e.address,emergencyContactName:e.emergencyContactName,emergencyContactPhone:e.emergencyContactPhone}),l(!0)})(e),title:"Edit patient",children:Object(F.jsx)(He.a,{})}),Object(F.jsx)(v.a,{color:"error",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this patient?")&&w.mutate(t));var t},title:"Delete patient",children:Object(F.jsx)(Qe.a,{})})]})]},e.id))})]}),Object(F.jsx)(We.a,{rowsPerPageOptions:[5,10,25],component:"div",count:D.length,rowsPerPage:a,page:e,onPageChange:(e,a)=>{t(a)},onRowsPerPageChange:e=>{i(parseInt(e.target.value,10)),t(0)}})]}),Object(F.jsx)(Le.a,{open:r,onClose:P,maxWidth:"md",fullWidth:!0,children:Object(F.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o?C.mutate(h):f.mutate(h)},children:[Object(F.jsx)(Re.a,{children:o?"Edit Patient":"Add New Patient"}),Object(F.jsx)(Fe.a,{children:Object(F.jsxs)(Q.a,{container:!0,spacing:2,sx:{mt:1},children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"firstName",label:"First Name",fullWidth:!0,required:!0,value:h.firstName,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"lastName",label:"Last Name",fullWidth:!0,required:!0,value:h.lastName,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"email",label:"Email",type:"email",fullWidth:!0,value:h.email,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"phoneNumber",label:"Phone Number",fullWidth:!0,value:h.phoneNumber,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"dateOfBirth",label:"Date of Birth",type:"date",fullWidth:!0,required:!0,InputLabelProps:{shrink:!0},value:h.dateOfBirth,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Be.a,{name:"gender",label:"Gender",select:!0,fullWidth:!0,SelectProps:{native:!0},value:h.gender,onChange:S,children:[Object(F.jsx)("option",{value:""}),Object(F.jsx)("option",{value:"Male",children:"Male"}),Object(F.jsx)("option",{value:"Female",children:"Female"}),Object(F.jsx)("option",{value:"Other",children:"Other"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"address",label:"Address",fullWidth:!0,multiline:!0,rows:2,value:h.address,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"emergencyContactName",label:"Emergency Contact Name",fullWidth:!0,value:h.emergencyContactName,onChange:S})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"emergencyContactPhone",label:"Emergency Contact Phone",fullWidth:!0,value:h.emergencyContactPhone,onChange:S})})]})}),Object(F.jsxs)(ze.a,{children:[Object(F.jsx)(Z.a,{onClick:P,children:"Cancel"}),Object(F.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",disabled:f.isLoading||C.isLoading,children:f.isLoading||C.isLoading?Object(F.jsx)(J.a,{size:24}):o?"Update":"Add"})]})]})})]})};var Ge=()=>{var e,t,a,n,i,s,c,r;const{id:l}=Object(j.t)(),o=Object(j.r)(),{data:b,isLoading:p}=Object(d.useQuery)(["patient",l],()=>he.getById(l).then(e=>e.data)),{data:y,isLoading:C}=Object(d.useQuery)(["medicalHistory",l],()=>he.getMedicalHistory(l).then(e=>e.data));return p||C?Object(F.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(F.jsx)(J.a,{})}):Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h4",component:"h1",children:"Patient Details"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",startIcon:Object(F.jsx)(He.a,{}),onClick:()=>o("/patients/edit/".concat(l)),children:"Edit Patient"})]}),Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:4,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",mb:2},children:[Object(F.jsxs)(f.a,{sx:{width:80,height:80,mr:2,bgcolor:"primary.main"},children:[null===b||void 0===b||null===(e=b.firstName)||void 0===e?void 0:e[0],null===b||void 0===b||null===(t=b.lastName)||void 0===t?void 0:t[0]]}),Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(x.a,{variant:"h5",component:"h2",children:[null===b||void 0===b?void 0:b.firstName," ",null===b||void 0===b?void 0:b.lastName]}),Object(F.jsxs)(x.a,{variant:"body1",color:"text.secondary",children:[(e=>{const t=new Date,a=new Date(e);let n=t.getFullYear()-a.getFullYear();const i=t.getMonth()-a.getMonth();return(i<0||0===i&&t.getDate()<a.getDate())&&n--,n})(null===b||void 0===b?void 0:b.dateOfBirth)," years old"]})]})]}),Object(F.jsx)(h.a,{sx:{my:2}}),Object(F.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(F.jsxs)(Q.a,{item:!0,xs:6,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Date of Birth"}),Object(F.jsx)(x.a,{variant:"body1",children:Object(be.format)(new Date(null===b||void 0===b?void 0:b.dateOfBirth),"MMM d, yyyy")})]}),Object(F.jsxs)(Q.a,{item:!0,xs:6,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Gender"}),Object(F.jsx)(x.a,{variant:"body1",children:null===b||void 0===b?void 0:b.gender})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Email"}),Object(F.jsx)(x.a,{variant:"body1",children:null===b||void 0===b?void 0:b.email})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Phone"}),Object(F.jsx)(x.a,{variant:"body1",children:null===b||void 0===b?void 0:b.phoneNumber})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Address"}),Object(F.jsx)(x.a,{variant:"body1",children:null===b||void 0===b?void 0:b.address})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Blood Type"}),Object(F.jsx)(x.a,{variant:"body1",children:(null===b||void 0===b?void 0:b.bloodType)||"Not recorded"})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Primary Provider"}),Object(F.jsx)(x.a,{variant:"body1",children:(null===b||void 0===b?void 0:b.primaryProviderName)||"Not assigned"})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",children:"Healthcare Plan"}),Object(F.jsx)(x.a,{variant:"body1",children:(null===b||void 0===b?void 0:b.healthcarePlanName)||"None"})]})]}),Object(F.jsx)(h.a,{sx:{my:2}}),Object(F.jsx)(x.a,{variant:"subtitle1",gutterBottom:!0,children:"Emergency Contact"}),Object(F.jsx)(x.a,{variant:"body1",children:null===b||void 0===b?void 0:b.emergencyContactName}),Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:null===b||void 0===b?void 0:b.emergencyContactPhone})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:8,children:Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Allergies & Chronic Conditions"}),Object(F.jsx)(v.a,{color:"primary",onClick:()=>o("/patients/".concat(l,"/medical-info/edit")),children:Object(F.jsx)(He.a,{})})]}),Object(F.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(F.jsxs)(Q.a,{item:!0,xs:12,md:6,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Allergies"}),Object(F.jsx)(g.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(null===b||void 0===b||null===(a=b.allergies)||void 0===a?void 0:a.length)>0?b.allergies.map((e,t)=>Object(F.jsx)(se.a,{label:e,color:"error",variant:"outlined"},t)):Object(F.jsx)(x.a,{variant:"body2",children:"No known allergies"})})]}),Object(F.jsxs)(Q.a,{item:!0,xs:12,md:6,children:[Object(F.jsx)(x.a,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Chronic Conditions"}),Object(F.jsx)(g.a,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(null===b||void 0===b||null===(n=b.chronicConditions)||void 0===n?void 0:n.length)>0?b.chronicConditions.map((e,t)=>Object(F.jsx)(se.a,{label:e,color:"primary",variant:"outlined"},t)):Object(F.jsx)(x.a,{variant:"body2",children:"No chronic conditions"})})]})]})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Upcoming Appointments"}),Object(F.jsx)(Z.a,{startIcon:Object(F.jsx)(Ee.a,{}),onClick:()=>o("/appointments/new?patientId=".concat(l)),children:"Schedule"})]}),(null===y||void 0===y||null===(i=y.appointments)||void 0===i?void 0:i.length)>0?Object(F.jsx)(m.a,{children:y.appointments.filter(e=>new Date(e.appointmentDate)>=new Date).sort((e,t)=>new Date(e.appointmentDate)-new Date(t.appointmentDate)).slice(0,3).map(e=>Object(F.jsx)(O.a,{secondaryAction:Object(F.jsx)(v.a,{edge:"end",onClick:()=>o("/appointments/".concat(e.id)),children:Object(F.jsx)(re.a,{})}),sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:1},children:Object(F.jsx)(u.a,{primary:e.type,secondary:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(x.a,{variant:"body2",component:"span",children:Object(be.format)(new Date(e.appointmentDate),"MMM d, yyyy")}),Object(F.jsxs)(x.a,{variant:"body2",component:"span",sx:{ml:2},children:[e.startTime," - ",e.endTime]})]})})},e.id))}):Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"No upcoming appointments"}),Object(F.jsx)(Z.a,{variant:"text",fullWidth:!0,onClick:()=>o("/appointments?patientId=".concat(l)),sx:{mt:2},children:"View All Appointments"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:6,children:Object(F.jsxs)(U.a,{sx:{p:3,height:"100%"},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Recent Medical Records"}),Object(F.jsx)(Z.a,{startIcon:Object(F.jsx)(Ee.a,{}),onClick:()=>o("/medical-records/new?patientId=".concat(l)),children:"Add Record"})]}),(null===y||void 0===y||null===(s=y.medicalRecords)||void 0===s?void 0:s.length)>0?Object(F.jsx)(m.a,{children:y.medicalRecords.sort((e,t)=>new Date(t.recordDate)-new Date(e.recordDate)).slice(0,3).map(e=>Object(F.jsx)(O.a,{secondaryAction:Object(F.jsx)(v.a,{edge:"end",onClick:()=>o("/medical-records/".concat(e.id)),children:Object(F.jsx)(le.a,{})}),sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:1},children:Object(F.jsx)(u.a,{primary:e.recordType,secondary:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(x.a,{variant:"body2",component:"span",children:Object(be.format)(new Date(e.recordDate),"MMM d, yyyy")}),Object(F.jsxs)(x.a,{variant:"body2",component:"span",sx:{ml:2},children:["Dr. ",e.providerName]})]})})},e.id))}):Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"No medical records"}),Object(F.jsx)(Z.a,{variant:"text",fullWidth:!0,onClick:()=>o("/medical-records?patientId=".concat(l)),sx:{mt:2},children:"View All Records"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Current Medications"}),(null===y||void 0===y||null===(c=y.prescriptions)||void 0===c?void 0:c.length)>0?Object(F.jsx)(Q.a,{container:!0,spacing:2,children:y.prescriptions.filter(e=>!e.endDate||new Date(e.endDate)>=new Date).map(e=>Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(F.jsx)(K.a,{variant:"outlined",children:Object(F.jsxs)(Y.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",mb:1},children:[Object(F.jsx)(oe.a,{color:"primary",sx:{mr:1}}),Object(F.jsx)(x.a,{variant:"subtitle1",children:e.medicationName})]}),Object(F.jsxs)(x.a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.dosage," - ",e.frequency]}),Object(F.jsx)(x.a,{variant:"body2",children:e.instructions}),Object(F.jsxs)(x.a,{variant:"caption",display:"block",sx:{mt:1},children:["Started: ",Object(be.format)(new Date(e.startDate),"MMM d, yyyy")]}),e.endDate&&Object(F.jsxs)(x.a,{variant:"caption",display:"block",children:["Until: ",Object(be.format)(new Date(e.endDate),"MMM d, yyyy")]})]})})},e.id))}):Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"No current medications"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Object(F.jsx)(x.a,{variant:"h6",children:"Recent Vital Signs"}),Object(F.jsx)(Z.a,{startIcon:Object(F.jsx)(Ee.a,{}),onClick:()=>o("/patients/".concat(l,"/vitals/new")),children:"Record Vitals"})]}),(null===y||void 0===y||null===(r=y.vitalSigns)||void 0===r?void 0:r.length)>0?Object(F.jsx)(g.a,{sx:{overflowX:"auto"},children:Object(F.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Date"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"BP"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Heart Rate"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Temp"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Weight"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Height"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"BMI"}),Object(F.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"O2 Sat"})]})}),Object(F.jsx)("tbody",{children:y.vitalSigns.sort((e,t)=>new Date(t.recordedDate)-new Date(e.recordedDate)).slice(0,5).map(e=>Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:Object(be.format)(new Date(e.recordedDate),"MMM d, yyyy")}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.bloodPressureSystolic,"/",e.bloodPressureDiastolic]}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.heartRate," bpm"]}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.temperature,"\xb0F"]}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.weight," lbs"]}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.height," in"]}),Object(F.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:e.bmi}),Object(F.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:[e.oxygenSaturation,"%"]})]},e.id))})]})}):Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"No vital signs recorded"}),Object(F.jsx)(Z.a,{variant:"text",fullWidth:!0,onClick:()=>o("/patients/".concat(l,"/vitals")),sx:{mt:2},children:"View All Vital Signs"})]})})]})})]})]})},Je=a(417),Ke=a(423),Ye=a(1150),_e=a(559),Xe=a(1252),Ze=a(1251),$e=a(428),et=a(429),tt=a(228),at=a(265),nt=a(935),it=a(936);var st=()=>{const[e,t]=Object(n.useState)(new Date),[a,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)({patientId:"",providerId:"",appointmentDate:new Date,startTime:new Date,endTime:new Date((new Date).setMinutes((new Date).getMinutes()+30)),type:"",notes:"",status:"Scheduled"}),[r,l]=Object(n.useState)({open:!1,message:"",severity:"success"}),o=Object(j.r)(),b=Object(d.useQueryClient)(),{data:h,isLoading:m}=Object(d.useQuery)(["appointments",Object(be.format)(e,"yyyy-MM-dd")],()=>me.getByDate(Object(be.format)(e,"yyyy-MM-dd")).then(e=>e.data),{enabled:!!e}),{data:O,isLoading:p}=Object(d.useQuery)("patients",()=>he.getAll().then(e=>e.data)),u=Object(d.useMutation)(e=>me.create(e),{onSuccess:()=>{b.invalidateQueries(["appointments",Object(be.format)(e,"yyyy-MM-dd")]),i(!1),l({open:!0,message:"Appointment created successfully",severity:"success"})},onError:e=>{l({open:!0,message:"Error creating appointment: ".concat(e.message),severity:"error"})}}),y=e=>{const{name:t,value:a}=e.target;c(e=>Object(Me.a)(Object(Me.a)({},e),{},{[t]:a}))},v=()=>{c({patientId:"",providerId:"",appointmentDate:e,startTime:new Date,endTime:Object(nt.addMinutes)(new Date,30),type:"",notes:"",status:"Scheduled"}),i(!0)},f=()=>{i(!1)},C=()=>{l(e=>Object(Me.a)(Object(Me.a)({},e),{},{open:!1}))},w=h?(e=>{if(!e||0===e.length)return[];const t={};return e.forEach(e=>{const a=e.startTime;t[a]||(t[a]=[]),t[a].push(e)}),Object.entries(t).sort((e,t)=>{let[a]=e,[n]=t;return a.localeCompare(n)}).map(e=>{let[t,a]=e;return{time:t,appointments:a}})})(h):[],N=e=>{switch(e){case"Scheduled":return"primary.main";case"Completed":return"success.main";case"Cancelled":return"error.main";case"No-Show":return"warning.main";default:return"text.primary"}};return m?Object(F.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(F.jsx)(J.a,{})}):Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h4",component:"h1",children:"Appointments"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",onClick:v,children:"New Appointment"})]}),Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:3,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Select Date"}),Object(F.jsx)(tt.LocalizationProvider,{dateAdapter:at.AdapterDateFns,children:Object(F.jsx)($e.DatePicker,{value:e,onChange:e=>t(e),renderInput:e=>Object(F.jsx)(Be.a,Object(Me.a)(Object(Me.a)({},e),{},{fullWidth:!0}))})}),Object(F.jsxs)(g.a,{sx:{mt:3},children:[Object(F.jsx)(x.a,{variant:"subtitle1",gutterBottom:!0,children:"Appointment Summary"}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[Object(F.jsx)(x.a,{variant:"body2",children:"Total Appointments:"}),Object(F.jsx)(x.a,{variant:"body2",fontWeight:"bold",children:(null===h||void 0===h?void 0:h.length)||0})]}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[Object(F.jsx)(x.a,{variant:"body2",children:"Completed:"}),Object(F.jsx)(x.a,{variant:"body2",fontWeight:"bold",color:"success.main",children:(null===h||void 0===h?void 0:h.filter(e=>"Completed"===e.status).length)||0})]}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[Object(F.jsx)(x.a,{variant:"body2",children:"Scheduled:"}),Object(F.jsx)(x.a,{variant:"body2",fontWeight:"bold",color:"primary.main",children:(null===h||void 0===h?void 0:h.filter(e=>"Scheduled"===e.status).length)||0})]}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[Object(F.jsx)(x.a,{variant:"body2",children:"Cancelled:"}),Object(F.jsx)(x.a,{variant:"body2",fontWeight:"bold",color:"error.main",children:(null===h||void 0===h?void 0:h.filter(e=>"Cancelled"===e.status).length)||0})]}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(x.a,{variant:"body2",children:"No-Show:"}),Object(F.jsx)(x.a,{variant:"body2",fontWeight:"bold",color:"warning.main",children:(null===h||void 0===h?void 0:h.filter(e=>"No-Show"===e.status).length)||0})]})]})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:9,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsxs)(x.a,{variant:"h6",gutterBottom:!0,children:["Schedule for ",Object(be.format)(e,"EEEE, MMMM d, yyyy")]}),w.length>0?w.map((e,t)=>Object(F.jsxs)(g.a,{sx:{mb:3},children:[Object(F.jsx)(x.a,{variant:"subtitle1",sx:{mb:1,fontWeight:"bold"},children:e.time}),Object(F.jsx)(Q.a,{container:!0,spacing:2,children:e.appointments.map(e=>Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:4,children:Object(F.jsx)(K.a,{variant:"outlined",sx:{cursor:"pointer","&:hover":{boxShadow:3},borderLeft:"4px solid",borderLeftColor:N(e.status)},onClick:()=>o("/appointments/".concat(e.id)),children:Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(x.a,{variant:"subtitle1",gutterBottom:!0,children:e.patientName}),Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.type}),Object(F.jsxs)(x.a,{variant:"body2",children:[e.startTime," - ",e.endTime]}),Object(F.jsx)(g.a,{sx:{display:"inline-block",px:1,py:.5,mt:1,borderRadius:1,bgcolor:"".concat(N(e.status),"20"),color:N(e.status)},children:Object(F.jsx)(x.a,{variant:"caption",children:e.status})})]})})},e.id))})]},t)):Object(F.jsxs)(g.a,{sx:{textAlign:"center",py:5},children:[Object(F.jsx)(x.a,{variant:"body1",color:"text.secondary",children:"No appointments scheduled for this date"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",sx:{mt:2},onClick:v,children:"Schedule Appointment"})]})]})})]}),Object(F.jsx)(Le.a,{open:a,onClose:f,maxWidth:"md",fullWidth:!0,children:Object(F.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.patientId||!s.type)return void l({open:!0,message:"Please fill in all required fields",severity:"error"});if(Object(it.isAfter)(s.startTime,s.endTime))return void l({open:!0,message:"Start time must be before end time",severity:"error"});const t=Object(Me.a)(Object(Me.a)({},s),{},{appointmentDate:Object(be.format)(s.appointmentDate,"yyyy-MM-dd"),startTime:Object(be.format)(s.startTime,"HH:mm"),endTime:Object(be.format)(s.endTime,"HH:mm"),providerId:s.providerId||localStorage.getItem("userId")});u.mutate(t)},children:[Object(F.jsx)(Re.a,{children:"Schedule New Appointment"}),Object(F.jsx)(Fe.a,{children:Object(F.jsxs)(Q.a,{container:!0,spacing:2,sx:{mt:1},children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Je.a,{fullWidth:!0,required:!0,children:[Object(F.jsx)(Ke.a,{children:"Patient"}),Object(F.jsx)(Ye.a,{name:"patientId",value:s.patientId,onChange:y,label:"Patient",children:p?Object(F.jsx)(_e.a,{disabled:!0,children:"Loading patients..."}):null===O||void 0===O?void 0:O.map(e=>Object(F.jsxs)(_e.a,{value:e.id,children:[e.firstName," ",e.lastName]},e.id))})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Je.a,{fullWidth:!0,required:!0,children:[Object(F.jsx)(Ke.a,{children:"Appointment Type"}),Object(F.jsxs)(Ye.a,{name:"type",value:s.type,onChange:y,label:"Appointment Type",children:[Object(F.jsx)(_e.a,{value:"Check-up",children:"Check-up"}),Object(F.jsx)(_e.a,{value:"Follow-up",children:"Follow-up"}),Object(F.jsx)(_e.a,{value:"Consultation",children:"Consultation"}),Object(F.jsx)(_e.a,{value:"Procedure",children:"Procedure"}),Object(F.jsx)(_e.a,{value:"Vaccination",children:"Vaccination"}),Object(F.jsx)(_e.a,{value:"Lab Work",children:"Lab Work"}),Object(F.jsx)(_e.a,{value:"Physical Therapy",children:"Physical Therapy"})]})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:4,children:Object(F.jsx)(tt.LocalizationProvider,{dateAdapter:at.AdapterDateFns,children:Object(F.jsx)($e.DatePicker,{label:"Date",value:s.appointmentDate,onChange:e=>{c(t=>Object(Me.a)(Object(Me.a)({},t),{},{appointmentDate:e}))},renderInput:e=>Object(F.jsx)(Be.a,Object(Me.a)(Object(Me.a)({},e),{},{fullWidth:!0,required:!0})),minDate:new Date})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:4,children:Object(F.jsx)(tt.LocalizationProvider,{dateAdapter:at.AdapterDateFns,children:Object(F.jsx)(et.TimePicker,{label:"Start Time",value:s.startTime,onChange:e=>{c(t=>Object(Me.a)(Object(Me.a)({},t),{},{startTime:e,endTime:Object(nt.addMinutes)(e,30)}))},renderInput:e=>Object(F.jsx)(Be.a,Object(Me.a)(Object(Me.a)({},e),{},{fullWidth:!0,required:!0}))})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:4,children:Object(F.jsx)(tt.LocalizationProvider,{dateAdapter:at.AdapterDateFns,children:Object(F.jsx)(et.TimePicker,{label:"End Time",value:s.endTime,onChange:e=>{c(t=>Object(Me.a)(Object(Me.a)({},t),{},{endTime:e}))},renderInput:e=>Object(F.jsx)(Be.a,Object(Me.a)(Object(Me.a)({},e),{},{fullWidth:!0,required:!0}))})})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"notes",label:"Notes",multiline:!0,rows:4,fullWidth:!0,value:s.notes,onChange:y})})]})}),Object(F.jsxs)(ze.a,{children:[Object(F.jsx)(Z.a,{onClick:f,children:"Cancel"}),Object(F.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",disabled:u.isLoading,children:u.isLoading?Object(F.jsx)(J.a,{size:24}):"Schedule"})]})]})}),Object(F.jsx)(Xe.a,{open:r.open,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(F.jsx)(Ze.a,{onClose:C,severity:r.severity,sx:{width:"100%"},children:r.message})})]})},ct=a(1245);var rt=()=>{const[e,t]=Object(n.useState)(!1),[a,i]=Object(n.useState)(""),[s,c]=Object(n.useState)({patientId:"",recordType:"",diagnosis:"",treatment:"",notes:"",prescriptions:[]}),[r,l]=Object(n.useState)({open:!1,message:"",severity:"success"}),[o,b]=Object(n.useState)({medicationName:"",dosage:"",frequency:"",startDate:Object(be.format)(new Date,"yyyy-MM-dd"),endDate:"",instructions:""}),[h,p]=Object(n.useState)(!1),[y,f]=Object(n.useState)(-1),C=Object(j.r)(),w=Object(d.useQueryClient)(),{data:N,isLoading:D}=Object(d.useQuery)(["medicalRecords",a],()=>a?pe(a).then(e=>e.data):Oe().then(e=>e.data)),{data:P,isLoading:S}=Object(d.useQuery)("patients",()=>he.getAll().then(e=>e.data)),I=Object(d.useMutation)(e=>ue(e),{onSuccess:()=>{w.invalidateQueries(["medicalRecords",a]),t(!1),l({open:!0,message:"Medical record created successfully",severity:"success"})},onError:e=>{l({open:!0,message:"Error creating medical record: ".concat(e.message),severity:"error"})}}),k=e=>{const{name:t,value:a}=e.target;c(e=>Object(Me.a)(Object(Me.a)({},e),{},{[t]:a}))},A=e=>{const{name:t,value:a}=e.target;b(e=>Object(Me.a)(Object(Me.a)({},e),{},{[t]:a}))},M=()=>{c({patientId:a||"",recordType:"",diagnosis:"",treatment:"",notes:"",prescriptions:[]}),t(!0)},B=()=>{t(!1)},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;e>=0?(b(s.prescriptions[e]),f(e)):(b({medicationName:"",dosage:"",frequency:"",startDate:Object(be.format)(new Date,"yyyy-MM-dd"),endDate:"",instructions:""}),f(-1)),p(!0)},W=()=>{p(!1)},L=()=>{l(e=>Object(Me.a)(Object(Me.a)({},e),{},{open:!1}))},R=N?(e=>{if(!e||0===e.length)return[];const t={};return e.forEach(e=>{const a=e.recordDate;t[a]||(t[a]=[]),t[a].push(e)}),Object.entries(t).sort((e,t)=>{let[a]=e,[n]=t;return new Date(n)-new Date(a)}).map(e=>{let[t,a]=e;return{date:t,records:a}})})(N):[];return D?Object(F.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(F.jsx)(J.a,{})}):Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[Object(F.jsx)(x.a,{variant:"h4",component:"h1",children:"Medical Records"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",startIcon:Object(F.jsx)(Ee.a,{}),onClick:M,children:"New Record"})]}),Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:3,children:Object(F.jsxs)(U.a,{sx:{p:3},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Filters"}),Object(F.jsxs)(Je.a,{fullWidth:!0,sx:{mb:2},children:[Object(F.jsx)(Ke.a,{children:"Patient"}),Object(F.jsxs)(Ye.a,{value:a,onChange:e=>{i(e.target.value)},label:"Patient",children:[Object(F.jsx)(_e.a,{value:"",children:"All Patients"}),S?Object(F.jsx)(_e.a,{disabled:!0,children:"Loading patients..."}):null===P||void 0===P?void 0:P.map(e=>Object(F.jsxs)(_e.a,{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),Object(F.jsx)(x.a,{variant:"subtitle2",gutterBottom:!0,children:"Record Types"}),Object(F.jsxs)(g.a,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[Object(F.jsx)(se.a,{label:"All Types",color:"primary",variant:"outlined",onClick:()=>{}}),Object(F.jsx)(se.a,{label:"Check-up",variant:"outlined",onClick:()=>{}}),Object(F.jsx)(se.a,{label:"Diagnosis",variant:"outlined",onClick:()=>{}}),Object(F.jsx)(se.a,{label:"Treatment",variant:"outlined",onClick:()=>{}}),Object(F.jsx)(se.a,{label:"Lab Results",variant:"outlined",onClick:()=>{}})]}),Object(F.jsx)(x.a,{variant:"subtitle2",gutterBottom:!0,children:"Date Range"}),Object(F.jsx)(Be.a,{label:"From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:2}}),Object(F.jsx)(Be.a,{label:"To",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},sx:{mb:2}}),Object(F.jsx)(Z.a,{variant:"outlined",fullWidth:!0,children:"Apply Filters"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:9,children:R.length>0?R.map((e,t)=>Object(F.jsxs)(U.a,{sx:{p:3,mb:3},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:Object(be.format)(new Date(e.date),"EEEE, MMMM d, yyyy")}),Object(F.jsx)(m.a,{children:e.records.map(e=>Object(F.jsx)(O.a,{alignItems:"flex-start",sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:2,p:2},secondaryAction:Object(F.jsx)(v.a,{edge:"end",onClick:()=>C("/medical-records/".concat(e.id)),children:Object(F.jsx)(le.a,{})}),children:Object(F.jsx)(u.a,{primary:Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",mb:1},children:[Object(F.jsx)(x.a,{variant:"subtitle1",component:"span",children:e.recordType}),Object(F.jsx)(se.a,{label:"Dr. ".concat(e.providerName),size:"small",sx:{ml:2}})]}),secondary:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(x.a,{variant:"body2",component:"span",color:"text.primary",children:["Patient: ",e.patientName]}),e.diagnosis&&Object(F.jsxs)(g.a,{sx:{mt:1},children:[Object(F.jsx)(x.a,{variant:"body2",component:"span",color:"text.primary",children:"Diagnosis:"}),Object(F.jsx)(x.a,{variant:"body2",component:"p",children:e.diagnosis})]}),e.treatment&&Object(F.jsxs)(g.a,{sx:{mt:1},children:[Object(F.jsx)(x.a,{variant:"body2",component:"span",color:"text.primary",children:"Treatment:"}),Object(F.jsx)(x.a,{variant:"body2",component:"p",children:e.treatment})]}),e.prescriptions&&e.prescriptions.length>0&&Object(F.jsxs)(g.a,{sx:{mt:1},children:[Object(F.jsx)(x.a,{variant:"body2",component:"span",color:"text.primary",children:"Prescriptions:"}),Object(F.jsx)(g.a,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:.5},children:e.prescriptions.map((e,t)=>Object(F.jsx)(se.a,{label:"".concat(e.medicationName," (").concat(e.dosage,")"),size:"small",color:"primary",variant:"outlined"},t))})]})]})})},e.id))})]},t)):Object(F.jsxs)(U.a,{sx:{p:3,textAlign:"center"},children:[Object(F.jsx)(x.a,{variant:"body1",color:"text.secondary",children:"No medical records found"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",startIcon:Object(F.jsx)(Ee.a,{}),onClick:M,sx:{mt:2},children:"Create New Record"})]})})]}),Object(F.jsx)(Le.a,{open:e,onClose:B,maxWidth:"md",fullWidth:!0,children:Object(F.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.patientId||!s.recordType)return void l({open:!0,message:"Please fill in all required fields",severity:"error"});const t=Object(Me.a)(Object(Me.a)({},s),{},{recordDate:Object(be.format)(new Date,"yyyy-MM-dd"),providerId:localStorage.getItem("userId")});I.mutate(t)},children:[Object(F.jsx)(Re.a,{children:"Create New Medical Record"}),Object(F.jsx)(Fe.a,{children:Object(F.jsxs)(Q.a,{container:!0,spacing:2,sx:{mt:1},children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Je.a,{fullWidth:!0,required:!0,children:[Object(F.jsx)(Ke.a,{children:"Patient"}),Object(F.jsx)(Ye.a,{name:"patientId",value:s.patientId,onChange:k,label:"Patient",disabled:!!a,children:S?Object(F.jsx)(_e.a,{disabled:!0,children:"Loading patients..."}):null===P||void 0===P?void 0:P.map(e=>Object(F.jsxs)(_e.a,{value:e.id,children:[e.firstName," ",e.lastName]},e.id))})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)(Je.a,{fullWidth:!0,required:!0,children:[Object(F.jsx)(Ke.a,{children:"Record Type"}),Object(F.jsxs)(Ye.a,{name:"recordType",value:s.recordType,onChange:k,label:"Record Type",children:[Object(F.jsx)(_e.a,{value:"Check-up",children:"Check-up"}),Object(F.jsx)(_e.a,{value:"Diagnosis",children:"Diagnosis"}),Object(F.jsx)(_e.a,{value:"Treatment",children:"Treatment"}),Object(F.jsx)(_e.a,{value:"Lab Results",children:"Lab Results"}),Object(F.jsx)(_e.a,{value:"Vaccination",children:"Vaccination"}),Object(F.jsx)(_e.a,{value:"Surgery",children:"Surgery"}),Object(F.jsx)(_e.a,{value:"Physical Therapy",children:"Physical Therapy"})]})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"diagnosis",label:"Diagnosis",multiline:!0,rows:2,fullWidth:!0,value:s.diagnosis,onChange:k})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"treatment",label:"Treatment",multiline:!0,rows:2,fullWidth:!0,value:s.treatment,onChange:k})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"notes",label:"Notes",multiline:!0,rows:3,fullWidth:!0,value:s.notes,onChange:k})}),Object(F.jsxs)(Q.a,{item:!0,xs:12,children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[Object(F.jsx)(x.a,{variant:"subtitle1",children:"Prescriptions"}),Object(F.jsx)(Z.a,{startIcon:Object(F.jsx)(Ee.a,{}),onClick:()=>T(),size:"small",children:"Add Prescription"})]}),s.prescriptions.length>0?Object(F.jsx)(m.a,{children:s.prescriptions.map((e,t)=>Object(F.jsx)(O.a,{secondaryAction:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(v.a,{edge:"end",onClick:()=>T(t),size:"small",sx:{mr:1},children:Object(F.jsx)(He.a,{})}),Object(F.jsx)(v.a,{edge:"end",onClick:()=>(e=>{const t=[...s.prescriptions];t.splice(e,1),c(e=>Object(Me.a)(Object(Me.a)({},e),{},{prescriptions:t}))})(t),size:"small",children:Object(F.jsx)(Qe.a,{})})]}),sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:1},children:Object(F.jsx)(u.a,{primary:e.medicationName,secondary:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(x.a,{variant:"body2",component:"span",children:[e.dosage," - ",e.frequency]}),Object(F.jsx)(x.a,{variant:"body2",component:"p",children:e.instructions}),Object(F.jsxs)(x.a,{variant:"caption",component:"p",children:["Start: ",e.startDate,e.endDate&&" | End: ".concat(e.endDate)]})]})})},t))}):Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No prescriptions added"})]})]})}),Object(F.jsxs)(ze.a,{children:[Object(F.jsx)(Z.a,{onClick:B,children:"Cancel"}),Object(F.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",disabled:I.isLoading,children:I.isLoading?Object(F.jsx)(J.a,{size:24}):"Save Record"})]})]})}),Object(F.jsxs)(Le.a,{open:h,onClose:W,maxWidth:"sm",fullWidth:!0,children:[Object(F.jsx)(Re.a,{children:y>=0?"Edit Prescription":"Add Prescription"}),Object(F.jsx)(Fe.a,{children:Object(F.jsxs)(Q.a,{container:!0,spacing:2,sx:{mt:1},children:[Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"medicationName",label:"Medication Name",fullWidth:!0,required:!0,value:o.medicationName,onChange:A})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"dosage",label:"Dosage",fullWidth:!0,required:!0,value:o.dosage,onChange:A,placeholder:"e.g., 500mg"})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"frequency",label:"Frequency",fullWidth:!0,required:!0,value:o.frequency,onChange:A,placeholder:"e.g., Twice daily"})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"startDate",label:"Start Date",type:"date",fullWidth:!0,required:!0,value:o.startDate,onChange:A,InputLabelProps:{shrink:!0}})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"endDate",label:"End Date",type:"date",fullWidth:!0,value:o.endDate,onChange:A,InputLabelProps:{shrink:!0}})}),Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsx)(Be.a,{name:"instructions",label:"Instructions",multiline:!0,rows:2,fullWidth:!0,value:o.instructions,onChange:A,placeholder:"e.g., Take with food"})})]})}),Object(F.jsxs)(ze.a,{children:[Object(F.jsx)(Z.a,{onClick:W,children:"Cancel"}),Object(F.jsx)(Z.a,{variant:"contained",color:"primary",onClick:()=>{if(o.medicationName&&o.dosage&&o.frequency){if(y>=0){const e=[...s.prescriptions];e[y]=o,c(t=>Object(Me.a)(Object(Me.a)({},t),{},{prescriptions:e}))}else c(e=>Object(Me.a)(Object(Me.a)({},e),{},{prescriptions:[...e.prescriptions,o]}));p(!1)}else l({open:!0,message:"Please fill in all required prescription fields",severity:"error"})},startIcon:Object(F.jsx)(ct.a,{}),children:"Save"})]})]}),Object(F.jsx)(Xe.a,{open:r.open,autoHideDuration:6e3,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(F.jsx)(Ze.a,{onClose:L,severity:r.severity,sx:{width:"100%"},children:r.message})})]})};function lt(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"Healthcare Plans"}),Object(F.jsx)("p",{children:"List or manage your plans here."})]})}var ot=a(1260);var dt=()=>{const[e,t]=Object(n.useState)(""),[a,i]=Object(n.useState)(""),[s,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(!1),{login:d}=E(),b=Object(j.r)();return Object(F.jsxs)(g.a,{component:"form",onSubmit:async t=>{if(t.preventDefault(),console.log("\ud83d\udd11 Login form submitted",{email:e,password:a}),e&&a){r(""),o(!0);try{const t=await d(e,a);console.log("Login result:",t),t.success?b("/"):r(t.message||"Login failed. Please try again.")}catch(n){console.error("Unexpected login error:",n),r("An unexpected error occurred. Please try again.")}finally{o(!1)}}else r("Please enter both email and password")},sx:{maxWidth:400,mx:"auto",mt:5,px:2},children:[Object(F.jsx)(x.a,{variant:"h5",component:"h2",sx:{mb:3,fontWeight:"bold",textAlign:"center"},children:"Log In"}),s&&Object(F.jsx)(Ze.a,{severity:"error",sx:{mb:3},children:s}),Object(F.jsx)(Be.a,{label:"Email Address",type:"email",fullWidth:!0,margin:"normal",variant:"outlined",value:e,onChange:e=>t(e.target.value),required:!0,autoFocus:!0}),Object(F.jsx)(Be.a,{label:"Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",value:a,onChange:e=>i(e.target.value),required:!0}),Object(F.jsx)(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},disabled:l,children:l?Object(F.jsx)(J.a,{size:24}):"Log In"}),Object(F.jsx)(g.a,{sx:{textAlign:"center"},children:Object(F.jsxs)(x.a,{variant:"body2",children:["Don't have an account?"," ",Object(F.jsx)(ot.a,{component:c.b,to:"/register",variant:"body2",children:"Sign up"})]})})]})};var jt=()=>{const[e,t]=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",role:"User"}),[a,i]=Object(n.useState)(""),[s,r]=Object(n.useState)(!1),{register:l}=E(),o=Object(j.r)(),d=e=>{const{name:a,value:n}=e.target;t(e=>Object(Me.a)(Object(Me.a)({},e),{},{[a]:n}))};return Object(F.jsxs)(g.a,{component:"form",onSubmit:async t=>{t.preventDefault();const{firstName:a,lastName:n,email:s,password:c,confirmPassword:d,phoneNumber:j,role:b}=e;if(a&&n&&s&&c&&j)if(c===d)if(c.length<8)i("Password must be at least 8 characters long");else{i(""),r(!0);try{const e=await l({firstName:a,lastName:n,email:s,password:c,confirmPassword:d,phoneNumber:j,role:b});e.success?o("/login"):i(e.message)}catch(x){i("An unexpected error occurred. Please try again."),console.error(x)}finally{r(!1)}}else i("Passwords do not match");else i("Please fill in all required fields")},sx:{width:"100%"},children:[Object(F.jsx)(x.a,{variant:"h5",component:"h2",sx:{mb:3,fontWeight:"bold",textAlign:"center"},children:"Create an Account"}),a&&Object(F.jsx)(Ze.a,{severity:"error",sx:{mb:3},children:a}),Object(F.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"firstName",label:"First Name",fullWidth:!0,margin:"normal",variant:"outlined",value:e.firstName,onChange:d,required:!0,autoFocus:!0})}),Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(Be.a,{name:"lastName",label:"Last Name",fullWidth:!0,margin:"normal",variant:"outlined",value:e.lastName,onChange:d,required:!0})})]}),Object(F.jsx)(Be.a,{name:"email",label:"Email Address",type:"email",fullWidth:!0,margin:"normal",variant:"outlined",value:e.email,onChange:d,required:!0}),Object(F.jsx)(Be.a,{name:"phoneNumber",label:"Phone Number",type:"tel",fullWidth:!0,margin:"normal",variant:"outlined",value:e.phoneNumber,onChange:d,required:!0}),Object(F.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(F.jsx)(Ke.a,{id:"role-label",children:"Role"}),Object(F.jsxs)(Ye.a,{labelId:"role-label",name:"role",value:e.role,label:"Role",onChange:d,children:[Object(F.jsx)(_e.a,{value:"User",children:"User"}),Object(F.jsx)(_e.a,{value:"Admin",children:"Admin"})]})]}),Object(F.jsx)(Be.a,{name:"password",label:"Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",value:e.password,onChange:d,required:!0,helperText:"Password must be at least 8 characters long"}),Object(F.jsx)(Be.a,{name:"confirmPassword",label:"Confirm Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",value:e.confirmPassword,onChange:d,required:!0}),Object(F.jsx)(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},disabled:s,children:s?Object(F.jsx)(J.a,{size:24}):"Sign Up"}),Object(F.jsx)(g.a,{sx:{textAlign:"center"},children:Object(F.jsxs)(x.a,{variant:"body2",children:["Already have an account?"," ",Object(F.jsx)(ot.a,{component:c.b,to:"/login",variant:"body2",children:"Log in"})]})})]})};function bt(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"404 \u2013 Page Not Found"}),Object(F.jsx)("p",{children:"Sorry, we couldn\u2019t find what you\u2019re looking for."})]})}function xt(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"User Profile"}),Object(F.jsx)("p",{children:"View and edit your profile details."})]})}var ht=a(1273),mt=a(1246),Ot=a(1247),pt=a(1248);const ut=e=>{let{value:t,sx:a}=e;return Object(F.jsx)(g.a,{sx:Object(Me.a)({width:"100%"},a),children:Object(F.jsx)(g.a,{sx:{width:"".concat(t,"%"),height:"100%",borderRadius:"inherit",transition:"width 0.4s ease-in-out"}})})};var gt=()=>{const[e,t]=Object(n.useState)(!0),[a,i]=Object(n.useState)(0),[s,c]=Object(n.useState)(null),[r,l]=Object(n.useState)([]),[o,d]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{setTimeout(()=>{c({score:78,components:[{name:"Lifestyle",value:82,weight:.3,description:"Diet and exercise habits"},{name:"Vitals",value:75,weight:.4,description:"Blood pressure, heart rate, etc."},{name:"Medical History",value:68,weight:.2,description:"Past conditions and treatments"},{name:"Compliance",value:90,weight:.1,description:"Medication and appointment adherence"}],recommendation:"Consider increasing physical activity to improve overall health score."}),l([{riskLevel:"Medium",riskScore:65,riskFactors:[{name:"Hypertension",contribution:.4,description:"Blood pressure consistently above normal range",isModifiable:!0},{name:"Family History",contribution:.3,description:"First-degree relatives with cardiovascular disease",isModifiable:!1},{name:"Sedentary Lifestyle",contribution:.2,description:"Less than recommended physical activity",isModifiable:!0},{name:"Diet",contribution:.1,description:"High sodium and processed food intake",isModifiable:!0}]}]),d([{forecastDate:new Date(Date.now()+7776e6),metrics:[{metricName:"Blood Pressure",currentValue:138,predictedValue:132,confidenceInterval:5,trend:"Improving"},{metricName:"Cholesterol",currentValue:210,predictedValue:195,confidenceInterval:10,trend:"Improving"},{metricName:"Blood Glucose",currentValue:105,predictedValue:102,confidenceInterval:3,trend:"Stable"},{metricName:"BMI",currentValue:27.5,predictedValue:26.8,confidenceInterval:.5,trend:"Improving"}]}]),t(!1)},1500)}catch(e){console.error("Error fetching AI insights:",e),t(!1)}})()},[]);const j=e=>e>=80?"success.main":e>=60?"warning.main":"error.main";return e?Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:[Object(F.jsx)(J.a,{}),Object(F.jsx)(x.a,{variant:"h6",sx:{ml:2},children:"Loading AI Insights..."})]}):Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{variant:"h4",gutterBottom:!0,children:"AI Insights"}),Object(F.jsx)(x.a,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Advanced health analytics powered by our AI Engine to provide personalized insights and recommendations."}),Object(F.jsx)(g.a,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:Object(F.jsxs)(_.a,{value:a,onChange:(e,t)=>{i(t)},"aria-label":"ai insights tabs",children:[Object(F.jsx)(X.a,{label:"Health Score"}),Object(F.jsx)(X.a,{label:"Risk Assessment"}),Object(F.jsx)(X.a,{label:"Health Forecast"})]})}),0===a&&s&&Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:4,children:Object(F.jsxs)(U.a,{elevation:3,sx:{p:3,textAlign:"center",height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Overall Health Score"}),Object(F.jsxs)(g.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(F.jsx)(J.a,{variant:"determinate",value:s.score,size:160,thickness:5,sx:{color:j(s.score)}}),Object(F.jsx)(g.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(F.jsx)(x.a,{variant:"h3",component:"div",color:j(s.score),children:s.score})})]}),Object(F.jsx)(x.a,{variant:"body1",sx:{mt:2},children:s.score>=80?"Excellent":s.score>=60?"Good":"Needs Improvement"})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:8,children:Object(F.jsxs)(U.a,{elevation:3,sx:{p:3,height:"100%"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Score Components"}),Object(F.jsx)(m.a,{children:s.components.map((e,t)=>Object(F.jsxs)(O.a,{divider:t<s.components.length-1,children:[Object(F.jsx)(u.a,{primary:e.name,secondary:"".concat(e.description," (Weight: ").concat(100*e.weight,"%)")}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"body1",sx:{mr:2,color:j(e.value)},children:e.value}),Object(F.jsx)(g.a,{sx:{width:100},children:Object(F.jsx)(ut,{variant:"determinate",value:e.value,sx:{height:8,borderRadius:5,backgroundColor:"grey.300","& .MuiLinearProgress-bar":{backgroundColor:j(e.value)}}})})]})]},t))}),Object(F.jsxs)(g.a,{sx:{mt:3,p:2,bgcolor:"info.light",borderRadius:1},children:[Object(F.jsx)(x.a,{variant:"subtitle1",children:"Recommendation"}),Object(F.jsx)(x.a,{variant:"body2",children:s.recommendation})]})]})})]}),1===a&&r.length>0&&Object(F.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(F.jsx)(Q.a,{item:!0,xs:12,md:4,children:Object(F.jsxs)(U.a,{elevation:3,sx:{p:3,textAlign:"center"},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Risk Level"}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",my:3},children:[Object(F.jsx)(mt.a,{sx:{fontSize:60,color:"High"===r[0].riskLevel?"error.main":"Medium"===r[0].riskLevel?"warning.main":"success.main"}}),Object(F.jsx)(x.a,{variant:"h4",sx:{ml:2,color:"High"===r[0].riskLevel?"error.main":"Medium"===r[0].riskLevel?"warning.main":"success.main"},children:r[0].riskLevel})]}),Object(F.jsxs)(x.a,{variant:"body1",children:["Risk Score: ",r[0].riskScore,"/100"]})]})}),Object(F.jsx)(Q.a,{item:!0,xs:12,md:8,children:Object(F.jsxs)(U.a,{elevation:3,sx:{p:3},children:[Object(F.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Risk Factors"}),Object(F.jsx)(m.a,{children:r[0].riskFactors.map((e,t)=>Object(F.jsxs)(O.a,{divider:t<r[0].riskFactors.length-1,children:[Object(F.jsx)(p.a,{children:e.isModifiable?Object(F.jsx)(Ot.a,{color:"success"}):Object(F.jsx)(pt.a,{color:"primary"})}),Object(F.jsx)(u.a,{primary:e.name,secondary:e.description}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(se.a,{label:"".concat(Math.round(100*e.contribution),"%"),color:e.contribution>.3?"warning":"default",size:"small"}),Object(F.jsx)(se.a,{label:e.isModifiable?"Modifiable":"Non-modifiable",color:e.isModifiable?"success":"primary",size:"small",sx:{ml:1}})]})]},t))})]})})]}),2===a&&o.length>0&&Object(F.jsx)(Q.a,{container:!0,spacing:3,children:Object(F.jsx)(Q.a,{item:!0,xs:12,children:Object(F.jsxs)(U.a,{elevation:3,sx:{p:3},children:[Object(F.jsxs)(x.a,{variant:"h6",gutterBottom:!0,children:["90-Day Health Forecast",Object(F.jsxs)(x.a,{variant:"subtitle2",component:"span",color:"text.secondary",sx:{ml:2},children:["Projected for ",new Date(o[0].forecastDate).toLocaleDateString()]})]}),Object(F.jsx)(h.a,{sx:{my:2}}),Object(F.jsx)(Q.a,{container:!0,spacing:3,children:o[0].metrics.map((e,t)=>Object(F.jsx)(Q.a,{item:!0,xs:12,sm:6,md:3,children:Object(F.jsxs)(K.a,{children:[Object(F.jsx)(ht.a,{title:e.metricName,subheader:"Trend: ".concat(e.trend),titleTypographyProps:{variant:"subtitle1"},subheaderTypographyProps:{variant:"subtitle2",sx:{color:"Improving"===e.trend?"success.main":"Worsening"===e.trend?"error.main":"info.main"}}}),Object(F.jsxs)(Y.a,{children:[Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"Current"}),Object(F.jsx)(x.a,{variant:"body2",color:"text.secondary",children:"Predicted"})]}),Object(F.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(F.jsx)(x.a,{variant:"h6",children:e.currentValue}),Object(F.jsxs)(g.a,{sx:{display:"flex",alignItems:"center",color:e.predictedValue<e.currentValue?"success.main":e.predictedValue>e.currentValue?"error.main":"info.main"},children:[Object(F.jsx)(x.a,{variant:"h6",children:e.predictedValue}),Object(F.jsxs)(x.a,{variant:"caption",sx:{ml:1},children:["\xb1",e.confidenceInterval]})]})]})]})]})},t))})]})})})]})};function yt(e){let{children:t}=e;const{isAuthenticated:a,isLoading:n}=E(),i=Object(j.p)();return n?null:a?t:Object(F.jsx)(j.a,{to:"/login",replace:!0,state:{from:i}})}function vt(){return Object(F.jsxs)(j.e,{children:[Object(F.jsxs)(j.c,{element:Object(F.jsx)(G,{}),children:[Object(F.jsx)(j.c,{path:"/login",element:Object(F.jsx)(dt,{})}),Object(F.jsx)(j.c,{path:"/register",element:Object(F.jsx)(jt,{})})]}),Object(F.jsxs)(j.c,{element:Object(F.jsx)(yt,{children:Object(F.jsx)(V,{})}),children:[Object(F.jsx)(j.c,{path:"/",element:Object(F.jsx)(Ae,{})}),Object(F.jsx)(j.c,{path:"/patients",element:Object(F.jsx)(Ue,{})}),Object(F.jsx)(j.c,{path:"/patients/:id",element:Object(F.jsx)(Ge,{})}),Object(F.jsx)(j.c,{path:"/appointments",element:Object(F.jsx)(st,{})}),Object(F.jsx)(j.c,{path:"/medical-records",element:Object(F.jsx)(rt,{})}),Object(F.jsx)(j.c,{path:"/healthcare-plans",element:Object(F.jsx)(lt,{})}),Object(F.jsx)(j.c,{path:"/profile",element:Object(F.jsx)(xt,{})}),Object(F.jsx)(j.c,{path:"/ai-insights",element:Object(F.jsx)(gt,{})})]}),Object(F.jsx)(j.c,{path:"*",element:Object(F.jsx)(bt,{})})]})}const ft=new d.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}}),Ct=Object(r.b)({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2"},background:{default:"#f5f5f5"}},typography:{fontFamily:["Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}}}}}),wt=document.getElementById("root");Object(s.createRoot)(wt).render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(c.a,{children:Object(F.jsxs)(l.a,{theme:Ct,children:[Object(F.jsx)(o.a,{}),Object(F.jsx)(d.QueryClientProvider,{client:ft,children:Object(F.jsx)(q,{children:Object(F.jsx)(vt,{})})})]})})}))},706:function(e,t,a){e.exports=a(1139)}},[[706,1,2]]]);
